<main>
  <p id="notice">
    <%= flash[:notice] %>
  </p>
  <div class="container px-5 px-sm-0">
    <div class="row">
      <div class="col-md-4">
        <h2>マイページ</h2>
        <div class="profile_image">
          <%= attachment_image_tag @user, :profile_image, :fill, 100,100, fallback: "no_image.jpg" %>
        </div>
        <table class="table">
          <tbody>
            <tr></tr>
            <tr>
              <th>Name</th>
              <td><%= @user.name %></td>
            </tr>
            <tr>
              <th>目標</th>
              <td><%= @user.goal %></td>
            </tr>
            <tr>
              <th>一言</th>
              <td><%= @user.introduction %></t>
            </tr>
          </tbody>
        </table>
        <div class="row">
          <%= link_to '', edit_user_path(@user), class: 'btn btn-outline-secondary btn-block fas fa-user-cog edit_user_id' %>
        </div>
      </div>


      <div class="col-md-7 offset-md-1">
        <ul class="tab-list">
          <li class="tab tab-active">投稿した質問</li>
          <li class="tab">回答した質問</li>
          <li class="tab">保存した質問</li>
        </ul>
        <div class="tabbox-contents">

          <div class="tabbox box-show">
              <table class="table">
                <thread>
                  <tr>
                    <th>タイトル</th>
                    <th>内容</th>
                    <th colspan="3"></th>
                  </tr>
                  <tbody></tbody>
                  </thread>
                    <% @questions.first(10).each do |question| %>
                  <thread>
                    <tr>
                    <td><%= link_to question.title, question_path(question.id) %></td>
                    <td><%= link_to question.body.truncate(30), question_path(question.id) %></td>
                    </tr>
                </thread>
                <% end %>
              </table>
            <%= paginate @questions %>
          </div>

          <div class="tabbox">
              <table class="table">
                <thread>
                  <tr>
                    <th>タイトル</th>
                    <th>内容</th>
                    <th colspan="3"></th>
                  </tr>
                  <tbody></tbody>
                  </thread>
                    <% @answered_questions.first(10).each do |question| %>
                  <thread>
                    <tr>
                    <td><%= link_to question.title, question_path(question.id) %></td>
                    <td><%= link_to question.body.truncate(30), question_path(question.id) %></td>
                    </tr>
                </thread>
                <% end %>
              </table>
            <%= paginate @answered_questions %>
          </div>

          <div class="tabbox">
              <table class="table">
                <thread>
                  <tr>
                    <th>タイトル</th>
                    <th>内容</th>
                    <th colspan="3"></th>
                  </tr>
                  <tbody></tbody>
                  </thread>
                    <% @bookmark_lists.first(10).each do |question| %>
                  <thread>
                    <tr>
                    <td><%= link_to question.title, question_path(question.id) %></td>
                    <td><%= link_to question.body.truncate(30), question_path(question.id) %></td>
                    </tr>
                </thread>
                <% end %>
              </table>
            <%= paginate @bookmark_lists %>
          </div>
        </div>
      </div>
    </div>
  </div>